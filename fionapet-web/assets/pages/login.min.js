angular.module('fiona', []);

// 读取目录树
function SignupController ( $scope, $http, $window) {

    // alert("Invoke: SidebarController");
    $scope.submitted = false;
    $scope.signupForm = function() {

        if ($scope.signup_form.$valid) {
            // Submit as normal
            $http.get("server/signup.json").success(function (data, status, headers, config ) {

                $scope.signup_form.submitted = true;

                if(data.code !=0 ){
                    $scope.error = true;
                    $scope.message = data.message;
                }
                else {
                    alert('Login Success');
                    $window.location.href = "index.html";
                }

            }).error(function (data, status, headers, config) {
                alert('GET Error');
                $scope.message = "Error: 登录失败显示错误信息";
            });
        } else {
            $scope.message = "请输入用户名和密码.";

            $scope.signup_form.submitted = true;
        }
    }
};
